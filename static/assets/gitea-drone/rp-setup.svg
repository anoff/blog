<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="444px" preserveAspectRatio="none" style="width:695px;height:444px;" version="1.1" viewBox="0 0 695 444" width="695px" zoomAndPan="magnify"><defs><filter height="300%" id="f1avb87nitsbab" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--cluster VM1--><rect fill="#FFFFFF" filter="url(#f1avb87nitsbab)" height="312" style="stroke: #000000; stroke-width: 1.5;" width="325" x="216.5" y="121"/><rect fill="#FFFFFF" height="10" style="stroke: #000000; stroke-width: 1.5;" width="15" x="521.5" y="126"/><rect fill="#FFFFFF" height="2" style="stroke: #000000; stroke-width: 1.5;" width="4" x="519.5" y="128"/><rect fill="#FFFFFF" height="2" style="stroke: #000000; stroke-width: 1.5;" width="4" x="519.5" y="132"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="121" x="318.5" y="146.9951">Virtual Machine</text><!--cluster docker1--><rect fill="#FFFFFF" filter="url(#f1avb87nitsbab)" height="229" style="stroke: #000000; stroke-width: 1.5;" width="253" x="256.5" y="172"/><rect fill="#FFFFFF" height="10" style="stroke: #000000; stroke-width: 1.5;" width="15" x="489.5" y="177"/><rect fill="#FFFFFF" height="2" style="stroke: #000000; stroke-width: 1.5;" width="4" x="487.5" y="179"/><rect fill="#FFFFFF" height="2" style="stroke: #000000; stroke-width: 1.5;" width="4" x="487.5" y="183"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="56" x="355" y="197.9951">Docker</text><!--entity servicea--><rect fill="#F8F8F8" filter="url(#f1avb87nitsbab)" height="39.2969" style="stroke: #000000; stroke-width: 1.5;" width="92" x="272.5" y="346"/><polygon fill="#F8F8F8" points="347.5,351,347.5,365,359.5,365,359.5,357,353.5,351,347.5,351" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="353.5" x2="353.5" y1="351" y2="357"/><line style="stroke: #000000; stroke-width: 1.5;" x1="359.5" x2="353.5" y1="357" y2="357"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="62" x="282.5" y="371.9951">service A</text><!--entity serviceb--><rect fill="#F8F8F8" filter="url(#f1avb87nitsbab)" height="39.2969" style="stroke: #000000; stroke-width: 1.5;" width="93" x="400" y="346"/><polygon fill="#F8F8F8" points="476,351,476,365,488,365,488,357,482,351,476,351" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="482" x2="482" y1="351" y2="357"/><line style="stroke: #000000; stroke-width: 1.5;" x1="488" x2="482" y1="357" y2="357"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="63" x="410" y="371.9951">service B</text><!--entity traefik--><rect fill="#F8F8F8" filter="url(#f1avb87nitsbab)" height="39.2969" style="stroke: #000000; stroke-width: 1.5;" width="115" x="325" y="207"/><polygon fill="#F8F8F8" points="423,212,423,226,435,226,435,218,429,212,423,212" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="429" x2="429" y1="212" y2="218"/><line style="stroke: #000000; stroke-width: 1.5;" x1="435" x2="429" y1="218" y2="218"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="85" x="335" y="232.9951">traefik:latest</text><path d="M6,199 L6,254.3984 L189,254.3984 L189,209 L179,199 L6,199 " fill="#ECECEC" filter="url(#f1avb87nitsbab)" style="stroke: #383838; stroke-width: 1.0;"/><path d="M179,199 L179,209 L189,209 L179,199 " fill="#ECECEC" style="stroke: #383838; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="71" x="12" y="216.0669">1x public IP</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="162" x="12" y="231.1997">service-a.mydomain.com</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="73" x="12" y="246.3325">service-b.io</text><!--entity SSLa--><ellipse cx="149.5" cy="37" fill="#F8F8F8" filter="url(#f1avb87nitsbab)" rx="8" ry="8" style="stroke: #383838; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="171" x="35" y="66.9951">service-a.mydomain.com</text><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="54" x="210" y="66.9951">:80,443</text><!--entity SSLb--><ellipse cx="382.5" cy="37" fill="#F8F8F8" filter="url(#f1avb87nitsbab)" rx="8" ry="8" style="stroke: #383838; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="79" x="314" y="66.9951">service-b.io</text><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="54" x="397" y="66.9951">:80,443</text><!--entity SSL_traefik--><ellipse cx="592.5" cy="37" fill="#F8F8F8" filter="url(#f1avb87nitsbab)" rx="8" ry="8" style="stroke: #383838; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="124" x="501.5" y="66.9951">Traefik dashboard</text><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="54" x="629.5" y="66.9951">:80,443</text><!--link traefik to servicea--><path d="M353.993,246.058 C341.667,255.756 328.487,268.783 321.5,284 C312.454,303.7 313.263,329.055 315.308,345.996 " fill="none" id="traefik-servicea" style="stroke: #383838; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="78" x="322.5" y="297.0669">internal port</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="36" x="343.5" y="312.1997">:3000</text><!--link traefik to serviceb--><path d="M391.265,246.262 C403.521,272.497 425.642,319.852 437.841,345.965 " fill="none" id="traefik-serviceb" style="stroke: #383838; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="36" x="423.5" y="304.5669">:3030</text><!--link GMN212638 to VM1--><path d="M189.277,226.5 C195.056,226.5 200.8347,226.5 206.6135,226.5 C209.5029,226.5 212.3923,226.5 215.2817,226.5 C215.6428,226.5 216.004,226.5 216.3652,226.5 " fill="none" id="GMN212638-VM1" style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><!--link SSLa to traefik--><path d="M158.865,39.303 C186.78,43.632 270.57,59.909 320.5,105 C351.58,133.068 369.414,180.361 377.396,206.574 " fill="none" id="SSLa-traefik" style="stroke: #383838; stroke-width: 1.0;"/><!--link SSLb to traefik--><path d="M382.5,46.057 C382.5,73.954 382.5,166.911 382.5,206.923 " fill="none" id="SSLb-traefik" style="stroke: #383838; stroke-width: 1.0;"/><!--link SSL_traefik to traefik--><path d="M583.477,46.057 C552.231,73.954 448.12,166.911 403.307,206.923 " fill="none" id="SSL_traefik-traefik" style="stroke: #383838; stroke-width: 1.0;"/><!--
@startuml
skinparam monochrome true
skinparam defaulttextalignment center

component "Virtual Machine" as VM1 {
  component Docker as docker1 {
    artifact "service A" as servicea
    artifact "service B" as serviceb
    artifact "traefik:latest" as traefik
  }
  traefik - - servicea: internal port\n<i>:3000
  traefik - - serviceb: <i>:3030
}
note left of VM1
  1x public IP
  service-a.mydomain.com
  service-b.io
end note

interface "service-a.mydomain.com <i>:80,443" as SSLa
interface "service-b.io <i>:80,443" as SSLb
interface "Traefik dashboard <i>:80,443" as SSL_traefik

SSLa -down- traefik
SSLb -down- traefik
SSL_traefik -down- traefik
@enduml

PlantUML version 1.2019.03(Sun Mar 10 11:04:44 UTC 2019)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.7.0_25-b15
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>