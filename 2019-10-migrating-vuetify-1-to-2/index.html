<!doctype html><html class=no-js lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=author content="Andreas Offenhaeuser"><meta name=description content="Andreas' personal blog"><meta name=keywords content=blog,personal,software,architecture,node,markdown,plantuml,developer><meta name=generator content="Hugo 0.55.6"><title>Migrating to vuetify 2.1 | Andreas&#39; Blog</title><meta name=description content="Migrating to vuetify 2.1 - Andreas' personal blog"><meta itemprop=name content="Migrating to vuetify 2.1"><meta itemprop=description content="Migrating to vuetify 2.1 - Andreas' personal blog"><meta property=og:title content="Migrating to vuetify 2.1"><meta property=og:description content="Migrating to vuetify 2.1 - Andreas' personal blog"><meta property=og:image content=/assets/vuetify-2/title.png><meta property=og:url content=//blog.anoff.io/2019-10-migrating-vuetify-1-to-2/><meta property=og:site_name content="Andreas' Blog"><meta property=og:type content=article><link rel=icon type=image/png href=//blog.anoff.io/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=//blog.anoff.io/favicon-16x16.png sizes=16x16><link href=/2019-10-migrating-vuetify-1-to-2/ rel=alternate type=application/rss+xml title="Andreas' Blog"><link href=/2019-10-migrating-vuetify-1-to-2/ rel=feed type=application/rss+xml title="Andreas' Blog"><link rel=stylesheet href=/sass/combined.min.f327a75a4aad18c5bec7b5dd7b51a776643885a0f7cca521b438abae302cc24d.css><link rel=stylesheet href=//blog.anoff.io/adoc.css><link rel=stylesheet href=//blog.anoff.io/overwrites.css><link rel=stylesheet href=//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.0/cookieconsent.min.css></head><body class=bilberry-hugo-theme><nav class=permanentTopNav><div class=container><ul class=topnav><li><a href=//anoff.io/ target=_self>About me</a></li><li><a href=/ target=_self>Blog</a></li><li><a href=//anoff.io/project/ target=_self>Projects</a></li><li><a href=/tags target=_self>by Tags</a></li><li><a href=//radar.anoff.io target=_blank>Tech skills</a></li><li><a href=//anoff.github.io/legal/ target=_blank>Legal</a></li></ul></div></nav><header><div class=container><div class=logo><a href=//blog.anoff.io/ class=logo><img src=/avatar.png alt>
<span class=overlay><i class="fa fa-child"></i></span></a></div><div class=titles><h3 class=title><a href=//blog.anoff.io/>Andreas&#39; Blog</a></h3><span class=subtitle>Adventures of a software engineer/architect</span></div><div class="toggler permanentTopNav"><i class="fa fa-bars" aria-hidden=true></i></div></div></header><div class="main container"><div class="article-wrapper u-cf single"><a class=bubble href=//blog.anoff.io/2019-10-migrating-vuetify-1-to-2/><i class="fa fa-fw fa-code"></i></a><article class="default article"><div class=featured-image><a href=//blog.anoff.io/2019-10-migrating-vuetify-1-to-2/><img src=/assets/vuetify-2/title.png alt></a></div><div class=content><h3><a href=//blog.anoff.io/2019-10-migrating-vuetify-1-to-2/>Migrating to vuetify 2.1</a></h3><div class=meta><span class="date moment">2019-10-06</span>
<span class=readingTime>4 min read</span>
<span class=author><a href=/author/anoff>anoff</a></span></div><p>I just migrated the <a href=https://github.com/anoff/devradar/tree/master/editor>code</a> for the <a href=//editor.devradar.io>devradar editor</a> to the latest major version of vuetify.
There is an officiel <a href=https://vuetifyjs.com/en/getting-started/releases-and-migrations>migration guide</a> that helped me solve 70% of the issues but here is a quick overview of the biggest issues I encountered and what actually changed.</p><div class=quote-block><blockquote><p>ðŸš¨ This was written for a migration from <code>vuetify 1.5.14</code> to <code>vuetify 2.1.1</code>
Also all code samples are typescript, but should also work for Javascript projects</p></blockquote></div><section class="doc-section level-1"><h2 id=_bootstrapping><a class=link href=#_bootstrapping>Bootstrapping</a></h2><p>Looking at the new <a href=https://vuetifyjs.com/en/getting-started/quick-start#quick-start>Quick start section</a> of vuetify 2.x you will notice that the way vuetify is added to Vue.js has changed.
Previously vuetify was just included via <code>Vue.use()</code> now it also needs to be instantiated.</p><figure class=listing-block><figcaption>main.ts (vuetify 1.5)</figcaption><pre class="CodeRay highlight"><code data-lang=typescript>import Vue from 'vue'
import App from './App.vue'
import '~vuetify/src/stylus/main' <b class=conum>1</b>
import Vuetify from 'vuetify' <b class=conum>1</b>

Vue.use(Vuetify, { <b class=conum>1</b>
  theme: appConfig.theme
})

/* eslint-disable no-new */
new Vue({
  el: '#app',
  components: { App },
  render: h =&gt; h(App),
  template: '&lt;App/&gt;'
})</code></pre><ol class="callout-list arabic"><li>These modifications should be removed when migrating</li></ol></figure><p>The new setup would look like this</p><figure class=listing-block><figcaption>main.ts (vuetify 2)</figcaption><pre class="CodeRay highlight"><code data-lang=typescript>import Vue from 'vue'
import Vuetify from 'vuetify/lib' <b class=conum>1</b>
import App from './App.vue'
import 'vuetify/dist/vuetify.min.css' <b class=conum>2</b>

Vue.use(Vuetify) <b class=conum>3</b>

const vuetifyOpts = { <b class=conum>4</b>
  theme: appConfig.theme
}

/* eslint-disable no-new */
new Vue({
  el: '#app',
  router,
  store,
  components: { App },
  render: h =&gt; h(App),
  template: '&lt;App/&gt;',
  vuetify: new Vuetify(vuetifyOpts) <b class=conum>4</b>
})</code></pre><ol class="callout-list arabic"><li>Load vuetify</li><li>include the <code>css</code> instead of stylus sheet</li><li>Register vuetify with Vue.js</li><li>Configure and instantiate vuetify in the new vue instance</li></ol></figure></section><section class="doc-section level-1"><h2 id=_loading_styles><a class=link href=#_loading_styles>Loading styles</a></h2><p>This was already implicitly shown in the previous section but might be worth another mention.</p><p>Whereas previously the vuetify styles were provided via a <code>styl(us)</code> file they are now precompiled <code>css</code>.</p><div class=listing-block><pre class="CodeRay highlight"><code data-lang=typescript>// vuetify 1.5
import 'vuetify/src/stylus/main.styl'

// vuetify 2.x
import 'vuetify/dist/vuetify.min.css'</code></pre></div><p>Also note that the npm module <strong>sass</strong> is required and <strong>node-sass</strong> no longer works.
You may need to swap by running</p><div class=listing-block><pre class="CodeRay highlight"><code data-lang=bash>npm uninstall node-sass
npm install --save-dev sass</code></pre></div></section><section class="doc-section level-1"><h2 id=_adding_vuetify_types_to_typescript_config><a class=link href=#_adding_vuetify_types_to_typescript_config>Adding vuetify types to typescript config</a></h2><p>If you get a compile error from typescript stating that <code>Argument of type '{..}' is not assignable to parameter of type 'ComponentOptions&lt;..&gt;'</code> or <code>Object literal may only specify known properties, and 'vuetify' does not exist in type</code> you need to register the vuetify types with typescript.
This was something I had not done before and may only be necessary with the change to vuetify 2.</p><div class=image-block><img src=/assets/vuetify-2/vuetify-ts-error.png alt="Vuetify error message"></div><figure class=listing-block><figcaption>tsconfig.json</figcaption><pre class="CodeRay highlight"><code data-lang=javascript>{
  <span class=key><span class=delimiter>&quot;</span><span class=content>compilerOptions</span><span class=delimiter>&quot;</span></span>: {
    <span class=key><span class=delimiter>&quot;</span><span class=content>types</span><span class=delimiter>&quot;</span></span>: [
      <span class=string><span class=delimiter>&quot;</span><span class=content>webpack-env</span><span class=delimiter>&quot;</span></span>,
      <span class=string><span class=delimiter>&quot;</span><span class=content>node</span><span class=delimiter>&quot;</span></span>,
      <span class=string><span class=delimiter>&quot;</span><span class=content>vuetify</span><span class=delimiter>&quot;</span></span> <b class=conum>1</b>
    ]
  }
}</code></pre><ol class="callout-list arabic"><li>add vuetify to the types property</li></ol></figure></section><section class="doc-section level-1"><h2 id=_theme_options><a class=link href=#_theme_options>Theme options</a></h2><p>If you are using a custom theme you might need to adapt to the new object structure that supports <strong>light and dark mode</strong> for your app.
It is mostly moving the color specification of the theme into another nested layer.</p><figure class=image-block><img src=/assets/vuetify-2/diag-b2b5b5f39492a3b7e4799ff6d343e49b.png alt="diag b2b5b5f39492a3b7e4799ff6d343e49b" width=267 height=445><figcaption>Figure 1. vuetify 2 theme options structure</figcaption></figure></section><section class="doc-section level-1"><h2 id=_add_mdi_font><a class=link href=#_add_mdi_font>Add MDI font</a></h2><p>Vuetify now uses the material design icons for default icons like the hamburger navigation menu.
Install it as a dev dependency if you have not done so yet.
Alternatively you could configure Vuetify to use another icon font, see the official getting started docs for infos on that.</p><div class=listing-block><pre class="CodeRay highlight"><code data-lang=bash>npm install --save-dev @mdi/font</code></pre></div><p>Then add it to your <code>main.ts</code></p><div class=listing-block><pre class="CodeRay highlight"><code data-lang=typescript>import '@mdi/font/css/materialdesignicons.css'</code></pre></div></section><section class="doc-section level-1"><h2 id=_component_changes><a class=link href=#_component_changes>Component changes</a></h2><p>With the above changes your app should build correctly, however there will still be a lot of errors in the browser as many components have breaking changes.
Below are the main changes I had to fix in my <a href=https://devradar.io>devradar</a> <a href=https://editor.devradar.io>editor application</a>.</p><section class="doc-section level-2"><h3 id=_application_toolbar><a class=link href=#_application_toolbar>Application Toolbar</a></h3><p>There is a new component <code>v-app-bar</code> that should be used for application wide navigation toolbars.</p><div class=listing-block><pre class="CodeRay highlight"><code data-lang=typescript>// vuetify 1.5
&lt;v-toolbar
    app dense scroll-off-screen
    color=&quot;accent&quot;
    &gt;

// vuetify 2
&lt;v-app-bar
  scroll-off-screen
  dense
  color=&quot;accent&quot;
  &gt;</code></pre></div></section><section class="doc-section level-2"><h3 id=_list_view><a class=link href=#_list_view>List view</a></h3><p>All components in the list category have been renamed from <code>list-tile-xyz</code> to <code>list-item-xyz</code>.
Best just run a replace all operation and see if it broke anything ðŸ˜‰</p></section></section><section class="doc-section level-1"><h2 id=_done><a class=link href=#_done>Done</a></h2><p>These changes made my application compile and render the home app component without issues.
Various components changed and you may need to consult the migration docs for specific cases&#8201;&#8211;&#8201;or just look at the new API docs directly as they are way more detailed.</p><p>If you stumbled upon this post, I hope it helped you. If it did not I would love to hear what you are missing in the comments or via <a href=https://twitter.com/anoff_io>Twitter DM</a> ðŸ‘‹</p></section></div><div class=footer><div class=tags><i class="fa fa-tags"></i><div class=links><a href=/tags/web>web</a>
<a href=/tags/development>development</a></div></div></div></article></div><div id=disqus_thread></div><script type=application/javascript>var disqus_config=function(){};(function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById('disqus_thread').innerHTML='Disqus comments not available by default when the website is previewed locally.';return;}
var d=document,s=d.createElement('script');s.async=true;s.src='//'+"anoff-io"+'.disqus.com/embed.js';s.setAttribute('data-timestamp',+new Date());(d.head||d.body).appendChild(s);})();</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></div><footer><div class=container><div class=right><div class=external-profiles><strong>Social media</strong>
<a href=//twitter.com/anoff_io target=_blank><i class="fa fa-twitter-adblock-proof"></i></a><a href=//github.com/anoff target=_blank><i class="fa fa-github"></i></a><a href=//linkedin.com/in/offenhaeuser/ target=_blank><i class="fa fa-linkedin"></i></a></div></div></div></footer><div class=credits><div class=container><div class=copyright><a href=//anoff.io target=_blank>&copy;
2019
by Andreas Offenhaeuser</a></div><div class=author><a href=//github.com/Lednerb/bilberry-hugo-theme target=_blank>Bilberry Hugo Theme</a></div></div></div><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-93890295-4','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script type=text/javascript src=/js/externalDependencies.39c47e10e241eae2947b3fe21809c572.js integrity="md5-OcR&#43;EOJB6uKUez/iGAnFcg=="></script><script type=text/javascript src=/js/theme.ff50ae6dc1bfc220b23bf69dbb41b54e.js integrity="md5-/1CubcG/wiCyO/adu0G1Tg=="></script><script>$(".moment").each(function(){$(this).text(moment($(this).text()).locale("en").format('LL'));});$(".footnote-return sup").html("");</script><script src=//blog.anoff.io/fix-adoc.js type=application/javascript></script><script src=//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.0/cookieconsent.min.js type=application/javascript></script><script src=//blog.anoff.io/init-cookieconsent.js type=application/javascript></script></body></html>